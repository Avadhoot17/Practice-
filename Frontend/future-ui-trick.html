<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Future UI Trick</title>

<style>
:root {
  --hue: 220;
  --scale: 1;
  --rotate: 0deg;
}

* {
  box-sizing: border-box;
  font-family: system-ui, sans-serif;
}

body {
  margin: 0;
  min-height: 200vh;
  background: hsl(var(--hue), 80%, 8%);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.card {
  width: 320px;
  height: 200px;
  border-radius: 20px;
  background: hsl(var(--hue), 80%, 55%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
  font-weight: bold;
  transform: 
    scale(var(--scale))
    rotate(var(--rotate));
  transition: transform 0.3s ease, background 0.3s ease;
  box-shadow: 0 20px 50px rgba(0,0,0,0.4);
}

.card span {
  pointer-events: none;
}
</style>
</head>

<body>

<div class="card">
  <span>Scroll + Hover Magic</span>
</div>

<script>
const card = document.querySelector('.card');

/* ðŸ”¥ JS Proxy controlling CSS variables */
const state = new Proxy(
  { hue: 220, scale: 1, rotate: 0 },
  {
    set(target, key, value) {
      target[key] = value;
      document.documentElement.style.setProperty(
        `--${key}`,
        key === 'rotate' ? value + 'deg' : value
      );
      return true;
    }
  }
);

/* ðŸ§  Scroll-based logic */
window.addEventListener('scroll', () => {
  const scroll = window.scrollY;
  state.hue = (220 + scroll / 5) % 360;
  state.rotate = scroll / 10;
});

/* ðŸŽ¯ Hover logic */
card.addEventListener('mouseenter', () => {
  state.scale = 1.15;
});

card.addEventListener('mouseleave', () => {
  state.scale = 1;
});

/* ðŸ‘€ Visibility-based update */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      state.hue = Math.floor(Math.random() * 360);
    }
  });
});

observer.observe(card);
</script>

</body>
</html>
