<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Next‑Level Java Code Editor</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Consolas,monospace}

body{
  min-height:100vh;
  background:#0f172a;
  color:#e2e8f0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.editor-app{
  width:100%;
  max-width:1200px;
  height:90vh;
  background:#020617;
  border-radius:16px;
  display:grid;
  grid-template-rows:50px 1fr 160px;
  overflow:hidden;
  box-shadow:0 20px 50px rgba(0,0,0,.4);
}

/* Top bar */
.topbar{
  background:#020617;
  border-bottom:1px solid #1e293b;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 16px;
}

.title{font-size:14px;color:#38bdf8}

.actions button{
  background:#38bdf8;
  color:#020617;
  border:none;
  padding:6px 12px;
  border-radius:8px;
  cursor:pointer;
  margin-left:6px;
  font-size:12px;
  transition:.2s;
}

.actions button:hover{transform:translateY(-1px)}

/* Editor */
.editor{
  display:grid;
  grid-template-columns:60px 1fr;
  height:100%;
}

.lines{
  background:#020617;
  border-right:1px solid #1e293b;
  padding:10px 6px;
  font-size:12px;
  color:#64748b;
  text-align:right;
  overflow:hidden;
}

textarea{
  width:100%;
  height:100%;
  background:#020617;
  color:#e2e8f0;
  border:none;
  outline:none;
  padding:10px;
  font-size:13px;
  line-height:1.5;
  resize:none;
}

/* Output console */
.console{
  background:#000000;
  border-top:1px solid #1e293b;
  padding:10px;
  font-size:12px;
  color:#22c55e;
  overflow:auto;
}

.keyword{color:#c084fc}
.string{color:#34d399}
.comment{color:#64748b}

</style>
</head>

<body>

<div class="editor-app">

<!-- TOP BAR -->
<div class="topbar">
  <div class="title">Java Playground Editor</div>
  <div class="actions">
    <button onclick="runCode()">Run</button>
    <button onclick="formatCode()">Format</button>
    <button onclick="clearCode()">Clear</button>
    <button onclick="downloadCode()">Download</button>
  </div>
</div>

<!-- CODE AREA -->
<div class="editor">
  <div class="lines" id="lines"></div>
  <textarea id="code" spellcheck="false">public class Main {

    public static void main(String[] args) {
        System.out.println("Hello, Java World!");
    }

}</textarea>
</div>

<!-- OUTPUT -->
<div class="console" id="console">Console output will appear here...</div>

</div>

<script>
const codeArea=document.getElementById('code');
const lines=document.getElementById('lines');
const consoleBox=document.getElementById('console');

function updateLines(){
  const count=codeArea.value.split('\n').length;
  lines.innerHTML=Array.from({length:count},(_,i)=>i+1).join('<br>');
}

codeArea.addEventListener('input',updateLines);
updateLines();

function runCode(){
  const code=codeArea.value;

  const match=code.match(/System\.out\.println\((.*?)\)/g);

  if(!match){
    consoleBox.textContent='Program executed. (Simulation mode — only println supported)';
    return;
  }

  const output=match.map(line=>{
    const text=line.match(/\((.*?)\)/)[1];
    return text.replaceAll('"','');
  }).join('\n');

  consoleBox.textContent=output;
}

function clearCode(){
  codeArea.value='';
  consoleBox.textContent='Console cleared.';
  updateLines();
}

function formatCode(){
  let formatted=codeArea.value
    .replace(/\{/g,'{\n')
    .replace(/;/g,';\n')
    .replace(/\}/g,'\n}');

  codeArea.value=formatted;
  updateLines();
}

function downloadCode(){
  const blob=new Blob([codeArea.value],{type:'text/plain'});
  const a=document.createElement('a');
  a.href=URL.createObjectURL(blob);
  a.download='Main.java';
  a.click();
}
</script>

</body>
</html>
