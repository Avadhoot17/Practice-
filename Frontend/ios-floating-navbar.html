<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iOS Ultra Smooth Navbar</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}

body{
  height:200vh;
  background:linear-gradient(180deg,#eef2f7,#dbe4f0);
}

/* NAVBAR */
nav{
  position:fixed;
  bottom:18px;
  left:50%;
  transform:translateX(-50%);
  width:94%;
  max-width:460px;
  height:74px;

  background:rgba(255,255,255,0.8);
  backdrop-filter:blur(25px);
  border-radius:26px;

  box-shadow:
    0 10px 25px rgba(0,0,0,0.15),
    inset 0 1px 0 rgba(255,255,255,0.7);

  display:flex;
  justify-content:space-around;
  align-items:center;

  transition:transform .35s cubic-bezier(.25,.8,.25,1);
}

nav.hide{
  transform:translate(-50%,120px);
}

/* BUTTON */
.btn{
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
  color:#6b7280;
  font-size:11px;
  cursor:pointer;
  transition:.25s ease;
}

.btn svg{
  width:24px;
  height:24px;
  transition:.25s ease;
}

.btn.active{
  color:#007aff;
}

.btn.active svg{
  transform:scale(1.18);
  filter:drop-shadow(0 4px 10px rgba(0,122,255,.35));
}

.btn:active{
  transform:scale(.9);
}

/* SLIDING INDICATOR */
.indicator{
  position:absolute;
  bottom:6px;
  width:52px;
  height:4px;
  background:#007aff;
  border-radius:10px;
  transition:transform .35s cubic-bezier(.25,.8,.25,1);
}

/* DEMO SECTIONS */
section{
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:36px;
  color:#374151;
}
</style>
</head>

<body>

<section>Home</section>
<section>Search</section>
<section>Reels</section>
<section>Shop</section>
<section>Profile</section>

<nav id="navbar">
  <div class="indicator" id="indicator"></div>

  <div class="btn active">
    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 3l9 8h-3v9h-4v-6H10v6H6v-9H3z"/></svg>
    Home
  </div>

  <div class="btn">
    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 2a8 8 0 105.3 14l4.4 4.4 1.4-1.4-4.4-4.4A8 8 0 0010 2z"/></svg>
    Search
  </div>

  <div class="btn">
    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 4h16v16H4zM9 8l6 4-6 4z"/></svg>
    Reels
  </div>

  <div class="btn">
    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h15l-1.5 9h-12zM6 6L4 2H1"/></svg>
    Shop
  </div>

  <div class="btn">
    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12a5 5 0 100-10 5 5 0 000 10zm0 2c-4.4 0-8 2.2-8 5v3h16v-3c0-2.8-3.6-5-8-5z"/></svg>
    Profile
  </div>
</nav>

<script>
const buttons = document.querySelectorAll(".btn");
const indicator = document.getElementById("indicator");
const navbar = document.getElementById("navbar");

let lastScroll = 0;

/* MOVE INDICATOR */
function moveIndicator(el){
  const rect = el.getBoundingClientRect();
  const navRect = navbar.getBoundingClientRect();
  const offset = rect.left - navRect.left + (rect.width / 2) - 26;
  indicator.style.transform = `translateX(${offset}px)`;
}

/* WAIT FOR LAYOUT */
window.addEventListener("load", () => {
  moveIndicator(document.querySelector(".btn.active"));
});

/* CLICK SWITCH */
buttons.forEach(btn=>{
  btn.addEventListener("click",()=>{
    buttons.forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    moveIndicator(btn);
  });
});

/* UPDATE ON RESIZE */
window.addEventListener("resize", ()=>{
  moveIndicator(document.querySelector(".btn.active"));
});

/* AUTO HIDE */
window.addEventListener("scroll",()=>{
  let current = window.scrollY;

  if(current > lastScroll && current > 80){
    navbar.classList.add("hide");
  }else{
    navbar.classList.remove("hide");
  }

  lastScroll = current;
});
</script>

</body>
</html>
