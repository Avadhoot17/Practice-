<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Task Dashboard</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif}

body{
  height:100vh;display:flex;
  background:linear-gradient(135deg,#0f172a,#020617);
  color:#fff;
}

/* Sidebar */
.sidebar{
  width:230px;padding:20px;
  background:rgba(255,255,255,0.05);
  backdrop-filter:blur(12px);
  border-right:1px solid rgba(255,255,255,0.1);
}
.sidebar h2{color:#38bdf8;text-align:center;margin-bottom:20px}
.nav{padding:10px;border-radius:8px;cursor:pointer}
.nav:hover{background:rgba(56,189,248,.2)}

/* Main */
.main{flex:1;padding:25px;overflow:auto}

/* Cards */
.card{
  background:rgba(255,255,255,0.05);
  border-radius:16px;padding:18px;margin-bottom:18px;
  backdrop-filter:blur(10px);
  border:1px solid rgba(255,255,255,.08);
}

/* Input */
.task-input{display:flex;gap:10px}
input{
  flex:1;padding:12px;border:none;border-radius:10px;outline:none
}
button{
  padding:12px 16px;border:none;border-radius:10px;
  background:#38bdf8;font-weight:600;cursor:pointer
}
button:hover{transform:scale(1.05)}

/* Filters */
.filters{display:flex;gap:10px;margin-top:10px}
.filter{cursor:pointer;padding:6px 12px;border-radius:8px}
.filter.active{background:#38bdf8;color:#000}

/* Tasks */
.task{
  display:flex;justify-content:space-between;
  background:rgba(255,255,255,0.06);
  padding:10px;border-radius:10px;margin-top:10px;
  cursor:grab;
}
.task.done{opacity:.5;text-decoration:line-through}

/* Progress */
.bar{height:10px;background:rgba(255,255,255,.1);border-radius:10px;margin-top:10px}
.progress{height:100%;width:0;background:#22c55e;border-radius:10px;transition:.4s}
</style>
</head>

<body>

<div class="sidebar">
  <h2>Tasks</h2>
  <div class="nav">Dashboard</div>
  <div class="nav">Analytics</div>
  <div class="nav">Settings</div>
</div>

<div class="main">

  <!-- Add -->
  <div class="card">
    <h3>Add Task</h3>
    <div class="task-input">
      <input id="taskInput" placeholder="Write a task...">
      <button id="addBtn">Add</button>
    </div>

    <div class="filters">
      <div class="filter active" data-type="all">All</div>
      <div class="filter" data-type="active">Active</div>
      <div class="filter" data-type="done">Done</div>
    </div>
  </div>

  <!-- Progress -->
  <div class="card">
    <h3>Progress</h3>
    <div class="bar"><div class="progress" id="progress"></div></div>
  </div>

  <!-- List -->
  <div class="card">
    <h3>Your Tasks</h3>
    <div id="taskList"></div>
  </div>

</div>

<script>
let tasks = JSON.parse(localStorage.getItem("tasks") || "[]");
let filter = "all";

const input = document.getElementById("taskInput");
const list = document.getElementById("taskList");
const progress = document.getElementById("progress");

/* Save */
function save(){
  localStorage.setItem("tasks", JSON.stringify(tasks));
}

/* Render */
function render(){
  list.innerHTML = "";

  let shown = tasks.filter(t =>
    filter==="all" || (filter==="active" && !t.done) || (filter==="done" && t.done)
  );

  let completed = tasks.filter(t=>t.done).length;
  progress.style.width = tasks.length ? (completed/tasks.length)*100 + "%" : "0%";

  shown.forEach((t,i)=>{
    const div = document.createElement("div");
    div.className="task"+(t.done?" done":"");
    div.draggable=true;

    div.innerHTML = `
      <span>${t.text}</span>
      <div>
        <button data-act="toggle">✓</button>
        <button data-act="del">✕</button>
      </div>
    `;

    /* actions */
    div.onclick = e=>{
      if(e.target.dataset.act==="toggle"){
        t.done=!t.done; save(); render();
      }
      if(e.target.dataset.act==="del"){
        tasks.splice(tasks.indexOf(t),1); save(); render();
      }
    };

    /* drag */
    div.ondragstart = ()=> div.classList.add("drag");
    div.ondragend   = ()=> div.classList.remove("drag");

    list.appendChild(div);
  });
}

/* Add */
function add(){
  if(!input.value.trim()) return;
  tasks.push({text:input.value,done:false});
  input.value="";
  save(); render();
}

/* Events */
document.getElementById("addBtn").onclick = add;
input.addEventListener("keypress",e=>{ if(e.key==="Enter") add(); });

document.querySelectorAll(".filter").forEach(f=>{
  f.onclick=()=>{
    document.querySelectorAll(".filter").forEach(x=>x.classList.remove("active"));
    f.classList.add("active");
    filter=f.dataset.type;
    render();
  };
});

/* Initial */
render();
</script>

</body>
</html>
